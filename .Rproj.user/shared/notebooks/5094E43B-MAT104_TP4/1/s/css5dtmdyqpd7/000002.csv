"0","# HaitiPop: Simultation de la population Haitienne (2019)"
"0","# Genre Féminin, effectif par groupe d'âge (données de 2019)"
"0","Age_female=c(620842, 608143, 590011, 565536, 531966, 493101, 458841,"
"0","             410081, 309636, 245577, 218103, 187285, 149090, 118763,"
"0","             80994, 60334, 34915, 15440, 5211, 1397, 217) "
"0",""
"0","# Genre Masculin, effectif par groupe d'âge (données de 2019)"
"0","Age_male=c(645049, 629568, 607263, 571570, 525211, 479976, 442822, "
"0","           390944, 286062, 221042, 199898, 169226, 135904, 102412, "
"0","           64604, 47325, 24681, 10151, 3085, 720, 83)  "
"0","PopTotale = sum(Age_male)+sum(Age_female)"
"0",""
"0","# Génération des âges et du genre"
"0","age = c(seq(4,104,by=5))"
"0","AGE = vector()"
"0","GENRE = vector()"
"0","for(i in 1:length(age)){"
"0","  AGE = append(AGE,floor(runif(Age_male[i],(age[i]-4),age[i]+5)))"
"0","  AGE = append(AGE,floor(runif(Age_female[i],(age[i]-4),age[i]+5)))"
"0","  GENRE = append(GENRE,rep(""M"",Age_male[i]))"
"0","  GENRE = append(GENRE,rep(""F"",Age_female[i]))"
"0","}"
"0","Tdt = data.frame(AGE,GENRE)"
"0","Tdt = Tdt[sample(nrow(Tdt)),1:2]"
"0","# Génération des Départements et répartition de la population"
"0","Dept = matrix(c(1:10,""Artibonite"",""Centre"",""Grand'Anse"",""Nippes"","
"0","                ""Nord"",""Nord-Est"",""Nord-Ouest"",""Ouest"",""Sud-Est"","
"0","                ""Sud""),nrow=2,byrow=TRUE)"
"0","# cat(""Identification des Départements: "",""\n"",t(Dept))"
"0","# Proportion de la population par département"
"0","PropDept = c(0.158316776, 0.037133348, 0.024201755, 0.018140699, "
"0","             0.057563731, 0.022548639, 0.042675426, 0.24647869, "
"0","             0.051350001, 0.066312107) "
"0","DEPARTEMENT = sample(Dept[1,],size=PopTotale,replace=TRUE, prob=PropDept)"
"0","# Indice de condition de vie, distribution asymétrique"
"0","CondxVie = rchisq(PopTotale,6)"
"0","Tdt = data.frame(Tdt,DEPARTEMENT,CondxVie)"
"0","# Génération des niveaux de scolarité atteints, population adulte"
"0","EDUC=rep(""NA"",PopTotale)"
"0","NivScol = c(""Aucun"",""PréScol"",""Fond.1"",""Fond.2"",""Fond.2"",""Second"","
"0","            ""Univ.1"",""Univ.2"",""Univ.3"")"
"0","PropNivScol = c(0.2, 0.07, 0.2, 0.18, 0.12, 0.09, 0.06, 0.05, 0.03) "
"0","EDUC[Tdt$AGE>25] = sample(NivScol,sum(Tdt$AGE>25),prob=PropNivScol,replace=TRUE)"
"0",""
"0","# Génération de l'indice de criminalité"
"0",""
"0","CRIMIDX = rep(""NA"",PopTotale)"
"0","idx = vector()"
"0","for(i in 1:10){"
"0","  idx[i] = sample(c(1,-1),1)*runif(1,0,30)"
"0","}"
"0",""
"0","CRIMIDX = 0.3*CondxVie + 3.5*(Tdt$GENRE==""M"")- 1.2*Tdt$AGE +"
"0","  1.5*(EDUC<""Second"")+ 10 + rnorm(1,0,4) +"
"0","  idx[as.numeric(DEPARTEMENT)]"
"0","CRIMIDX = CRIMIDX + (min(CRIMIDX)<0)*abs(min(CRIMIDX))"
"0","CRIMIDX[which(Tdt$AGE<15)] = NA"
"0",""
"0","# Génération de l'indice d'habiletés cognitives"
"0","HabilCog = rnorm(PopTotale,100,25)"
"0","idx = vector()"
"0","for(i in Dept){"
"0","  idx[i] = sample(c(1,-1),1)*runif(1,0,10)"
"0","}"
"0","HabilCog = HabilCog+idx[DEPARTEMENT]"
"0",""
"0","# Génération de la préférence pour un candidat présidentiel"
"0","# et de l'Opinion concernant la proposition d'une nouvelle Constitution"
"0",""
"0","library(wakefield)"
"0","PrefPres = rep(NA,PopTotale)"
"0","OpinConst = rep(NA,PopTotale)"
"0",""
"0","# Probabilités associées aux variables PresProb et OpinProb"
"0","PresProb = matrix(c(0.58, 0.41, 0.003, 0.004, 0.003, # Nord-Ouest, Nord et Nord-Est"
"0","                    0.41, 0.54, 0.003, 0.004, 0.043, # Artibonite et Centre"
"0","                    0.27, 0.65, 0.006, 0.01, 0.064,  # Ouest"
"0","                    0.15, 0.23, 0.38, 0.19, 0.05),   # Grand<Anse, Nippes, Sud et Sud-Est"
"0","          nrow = 4, ncol = 5, byrow = TRUE)"
"0","OpinProb = matrix(c(0.5,0.3,0.1,0.05,0.05,           # Nord-Ouest, Nord et Nord-Est"
"0","                    0.2,0.4,0.1,0.1,0.2,             # Artibonite et Centre"
"0","                    0.01,0.09,0.2,0.4,0.3,           # Ouest"
"0","                    0.4,0.1,0.0,0.1,0.4),            # Grand<Anse, Nippes, Sud et Sud-Est"
"0","          nrow = 4, ncol = 5, byrow = TRUE)"
"0","Regions = list(c(""5"",""6"",""7""), c(""1"",""2""), c(""8""),c(""3"",""4"",""9"",""10""))         "
"0","OptPres = c(""CandA"", ""CandB"", ""CandC"", ""CandD"", ""CandE"")"
"0","OptOpin = c(""Tout à fait d'accord"",""D'accord"",""Indécis"",""Pas d'accord"",""Pas du tout d'accord"")"
"0",""
"0","for (i in 1:length(Regions)){"
"0","  select = (Tdt$AGE>=18)&(DEPARTEMENT %in% Regions[[i]])"
"0","  PrefPres[select] = political(n=sum(select),x = OptPres, "
"0","              prob = PresProb[i,], name =   ""PrefPres"")"
"0","  OpinConst[select] = r_sample_ordered(n=sum(select), "
"0","  x = OptOpin, prob = OpinProb[i,], name = ""OpinConst"")"
"0","  }"
"0",""
"0","# DATA.FRAME de sortie"
"0","HaitiPop = data.frame(Tdt,EDUC,CRIMIDX,HabilCog,PrefPres,OpinConst)"
